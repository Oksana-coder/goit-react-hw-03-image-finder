{"version":3,"sources":["services/images-api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Container/Container.js","components/ErrorView/error-image_640.jpeg","components/ErrorView/ErrorView.js","App.js","index.js"],"names":["api","fetchImages","searchTerm","pageNumber","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","state","handleSearchTermChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","this","type","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","tags","webformatURL","onShowLargeImage","src","alt","onClick","ImageGallery","images","showLargeImage","path","map","id","largeImageURL","Button","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleBackdrop","target","window","addEventListener","removeEventListener","createPortal","children","Container","ErrorView","message","role","errorImage","width","Status","App","showModal","largeImage","status","imagesAPI","hits","prevState","catch","handleFormSubmit","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","color","height","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e99eebd3.chunk.js","sourcesContent":["function fetchImages(searchTerm, pageNumber) {\n  const key = '20958387-96a830a6962a2a719bbaccdc5';\n    \n  return fetch(`https://pixabay.com/api/?q=${searchTerm}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`There are no images corresponding to ${searchTerm}`));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;","import { Component } from 'react';\nimport './Searchbar.scss';\nimport { toast } from 'react-toastify';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchTerm: '',\n  };\n\n  handleSearchTermChange = event => {\n    this.setState({ searchTerm: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchTerm.trim() === '') {\n      toast.error('Enter your search query!');\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchTerm);\n    this.setState({ searchTerm: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"searchTerm\"\n            value={this.state.searchTerm}\n            onChange={this.handleSearchTermChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./ImageGalleryItem.scss\";\n\nexport default function ImageGalleryItem({ tags, webformatURL, onShowLargeImage }) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={onShowLargeImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  onShowLargeImage: PropTypes.func.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport \"./ImageGallery.scss\";\n\nexport default function ImageGallery({ images, onShowLargeImage }) {\n  const showLargeImage = path => {\n    onShowLargeImage(path);\n  };\n\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n\n        <ImageGalleryItem\n          key={id}\n          tags={tags}\n          webformatURL={webformatURL}\n          onShowLargeImage={() => showLargeImage(largeImageURL)}\n        />\n    ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Button.scss\";\n\nexport default function Button({ fetchImages }) {\n  return (\n    <button type=\"button\" className=\"load-more-btn\" onClick={fetchImages}>\n      Load more\n    </button>\n  )\n};\n\nButton.propTypes = {\n  fetchImages: PropTypes.func.isRequired,\n};","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.scss';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdrop = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdrop}>\n        <div className=\"Modal\">\n          {this.props.children}\n        </div>\n      </div>,\n      modalRoot,\n    )\n  }\n}","import React from 'react';\nimport './Container.scss';\n\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\n\nexport default Container;","export default __webpack_public_path__ + \"static/media/error-image_640.8361ac15.jpeg\";","import errorImage from './error-image_640.jpeg';\nimport PropTypes from \"prop-types\";\n\nexport default function ErrorView({ message }) {\n  return (\n    <div role=\"alert\">\n      <img src={errorImage} width=\"240\" alt=\"sad-emoji\" />\n      <p>{message}</p>\n    </div>\n  );\n}\n\nErrorView.propTypes = {\n  message: PropTypes.string.isRequired\n};","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport imagesAPI from './services/images-api';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Container from './components/Container';\nimport ErrorView from './components/ErrorView';\nimport './App.scss';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default class App extends Component {\n  state = {\n    searchTerm: '',\n    images: [],\n    pageNumber: 1,\n    showModal: false,\n    largeImage: '',\n    error: null,\n    status: Status.IDLE,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchTerm !== this.state.searchTerm) {\n      this.setState({ status: Status.PENDING });\n\n      this.fetchImages();\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  fetchImages = () => {\n    const { searchTerm, pageNumber } = this.state;\n\n    imagesAPI\n      .fetchImages(searchTerm, pageNumber)\n      .then(({ hits }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          pageNumber: prevState.pageNumber + 1,\n          status: Status.RESOLVED\n        }))\n      })\n      .catch(error => this.setState({ error, status: Status.REJECTED }));\n  }\n\n  handleFormSubmit = searchTerm => {\n    this.setState({\n      searchTerm,\n      images: [],\n      pageNumber: 1,\n      error: null,\n     });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) =>({\n      showModal: !showModal,\n    }));\n  };\n\n  showLargeImage = path => {\n    this.setState({ largeImage: path });\n    this.toggleModal();\n  }\n\n  render() {\n    const { images, showModal, largeImage, status, error } = this.state;\n\n    if (status === 'idle') {\n      return (\n        <Container>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <ToastContainer autoClose={3000} />\n        </Container>\n      )\n    }\n\n    if (status === 'pending') {\n      return (\n        <Container>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n          />\n        </Container>\n      )\n    }\n\n    if (status === 'rejected') {\n      return (\n        <Container>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <ErrorView message={error.message} />\n          <ToastContainer autoClose={3000} />\n        </Container>\n      )\n    }\n\n    if (status === 'resolved') {\n      return (\n        <Container>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <ImageGallery images={images} onShowLargeImage={this.showLargeImage} />\n           {images.length > 0 && <Button fetchImages={this.fetchImages}/>}\n           {showModal &&\n            <Modal onClose={this.toggleModal}>\n            <img src={largeImage} alt=\"\"/>\n            </Modal>}\n          <ToastContainer autoClose={3000} />\n        </Container>\n      )\n    }\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}